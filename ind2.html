<html>
    <head>
        <title>Business Website</title>
        <link rel="stylesheet" href="style.css">
        <script type="text/javascript" src="js.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>

    </head>
    <body>
    	 
    	 
        <!--- naviation bar-->
        <section id="nav-bar"> 
                <nav class="navbar navbar-expand-lg navbar-light bg-light ">
                        <a class="navbar-brand" href="#"><img src ="logo.png" height="50" width="50">></a>
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                          <span class="navbar-toggler-icon"></span>
                        </button>
                      
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                          <ul class="navbar-nav ml-auto">
                            <li class="nav-item active">
                              <a class="nav-link" href="#">HOME </a>
                            </li>
                            <li class="nav-item">
                              <a class="nav-link" href="#">About</a>
                            </li>
                              
                            <li class="nav-item">
                                    <a class="nav-link" href="#services">SERVICES</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link " href="#team" tabindex="-1" aria-disabled="true">OUR TEAM</a>
                                  </li>
                            
                            <li class="nav-item">
                                    <a class="nav-link" href="#price">PRICE PLANS</a>
                            </li>
                            
                            <li class="nav-item">
                                    <a class="nav-link" href="#testimonials">TESTIMONIALS</a>
                            </li>
                            <li class="nav-item">
                                    <a class="nav-link" href="#contact">CONTACT</a>
                            </li>
                          </ul>
                          <form class="form-inline my-2 my-lg-0">
                            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                            <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
                          </form>
                        </div>
                      </nav> 
        </section>
       
    <!---Slider-->
    <div id="slider">
            <div id="headerSlider" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                      <li data-target="#headerSlider" data-slide-to="0" class="active"></li>
                      <li data-target="#headerSlider" data-slide-to="1"></li>
                      <li data-target="#headerSlider" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                            
                      <div class="carousel-item active">
                                
                        <div  class="customer-form">    
                                <h1>Add a new Customer</h1>        
                            <form id = "2" action="http://localhost:3000/save" method="POST">
                                        Customer Name: <input id="cname" placeholder="enter customer name" type="text"/><br><br>
                                        Customer Phone: <input id="cphone" placeholder="enter customer phone" type="text"/><br><br>
                                        <button type="button" onclick="submitForm()"> submit </button>
									</form> 
										<br>
                                            <br>
										RETURN Rental<br>
										Search rental: <br><br>
										CustName : <input id="_customer_name2" placeholder="enter customer name" type="text"/><br>  
										Return Date: <input id="_return_date_search" placeholder="yyyy-mm-dd" type="text"/><br>
										Vehicle ID: <input id="_VID_search" placeholder="yyyy-mm-dd" type="text"/><br>
										<button onclick="return_rental_data()">Return</button>
										<br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                            <br>
                                    

                                </div>
                      </div>

    <div class="carousel-item">
                        
    <!-- Adding Vehicle-->
   
        <div class="customer-form">
            <h1>Add a new vehicle</h1>
                <form id = "3"  method="POST">
                    Vehicel ID: <input id="vid" placeholder="enter vihicle id" type="text"/><br><br>
                    Description: <input id="vdis" placeholder="Brand Model" type="text"/><br><br>
                    Year: <input id="year" placeholder="year" type="text"/><br><br>
                        Type of Vehicle:<select name="type" id="type">
                            <!--  COMPACT, MEDIUM, LARGE, SUV (Sports Utility Vehicle), TRUCK and VAN-->
                            <option value="COMPACT">COMPACT</option>
                            <option value="MEDIUM">MEDIUM</option>
                            <option value="LARGE">LARGE</option>
                            <option value="SUV">SUV</option>
                            <option value="TRUCK">TRUCK</option>
                            <option value="VAN">VAN</option>
                        </select>
                        <br>
                        <br>
                        Category :<select name="category" id="cat">
                            <option value="BASIC">BASIC</option>
                            <option value="CATEGORY">CATEGORY</option>
                        </select>
                        <br>
                        <br>
                         <button type="button" onclick="submitForm2()"> submit </button>
                         <br>
                         <br>
                         <br>
                         <br>
                         <br>
                         <br>
                         <br>
                 </form>
             </div>    
        </div>

        <div class="carousel-item">
							
			<div class="customer-form">
						<!--<img src="img/banner3.gif" class="d-block w-100" height= "600px">
						-->
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						<br>
						

                        <div class="carousel-caption">
							<br>
							<br>
							<h1>Add a Rental</h1>
							<br>
							<br>Type of Vehicle:<select name="type" id="rentype">
									<!--  COMPACT, MEDIUM, LARGE, SUV (Sports Utility Vehicle), TRUCK and VAN-->
									<option value="1">COMPACT</option>
									<option value="2">MEDIUM</option>
									<option value="3">LARGE</option>
									<option value="4">SUV</option>
									<option value="5">TRUCK</option>
									<option value="6">VAN</option>
								</select>
							<br>
							<br>
							Category :<select name="category" id="rencat">
									<option value="0">BASIC</option>
									<option value="1">LUXURY</option>
							</select>
							<br>
							<br>
							Start rental date: <input type="text" placeholder="yyyy-mm-dd" id="startdate">							
							<br>
							<br>
							Return rental date: <input type="text" placeholder="yyyy-mm-dd" id="returndate">
							<br>
							<br>
							<button onclick="retsearchvehicle_rental()">SEARCH VEHICLE</button>
							<br>
							<br>
							<form method="POST">
							Enter CustID : <input type="text" id="renter_customer" placeholder="xxx">
							<br>
							<br>
							Vehicle ID : <input type="text" id="renter_vehicle" placeholder="xxx">
							<br>
							<br>		
							Payment Date :<select name="paymentdate" id="payid">
									<option value="0">Start Date</option>
									<option value="1">Return Date</option>
							</select>
							<br>
							<br>
							<button onclick="addrental()">Rent</button>
							</form>>
						</div>
					
					
					</div>	
                      </div>
                    </div>
                    <a class="carousel-control-prev" href="#headerSlider" role="button" data-slide="prev">
                      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                      <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#headerSlider" role="button" data-slide="next">
                      <span class="carousel-control-next-icon" aria-hidden="true"></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
    </div>
   
<!--JS Smooth scrool-->

<script src="js/smooth-scroll.js"></script>
		
<div id="search1bar" align="center">
		 <!--<button type="button" onclick="retForm()"> Display all Customer </button>
    	 <br>
    	 <br>
    	 <button type="button" onclick="retForm2()"> Display all Vehicles</button>
		<br>
		<br>
	-->
		<form method="POST">
			Search Customer by Name: <input id="customer_search" placeholder="Search Customer Name" type="text"/>
    		<button type="button" onclick="retsearchuser()"> Search </button>
    	</form>
		<!--id search cus-->	
		<form method="POST">
			Search Customer by ID: <input id="customer_search_2" placeholder="Search Customer ID" type="text"/>
    		<button type="button" onclick="retsearchuserid()"> Search </button>
    	</form>
    	<form method="POST">
			Search Vehicle by Name: <input id="vehicle_search" placeholder="Search Vehicle Description" type="text"/>
    		<button type="button" onclick="retsearchvehicle()"> Search </button>
		</form>
		<form method="POST">
				Search Vehicle by ID: <input id="vehicle_id" placeholder="Search Vehicle Description" type="text"/>
				<button type="button" onclick="retsearchvehicleid()"> Search </button>
			</form>
</div>
		<div id = 'dill' ></div>

<script>
	function submitForm(){
		var item1 = $('#cname').val();
		var item2 = $('#cphone').val();
		var id1 = 1; 
		$.ajax({
			url : "http://localhost:3000/save",
			data : {
				"phone" : item2,
				"name" : item1,
				"tag" : id1
			},
			type : "POST",
			success : function(){
				console.log("Done");
			}

		})
	}
function submitForm2(){
		var vid = $('#vid').val();
		var vdis = $('#vdis').val();
		var year = $('#year').val();
		var type = $('#type').val();
		var cat = $('#cat').val();
		var id1 = 2; 
		
		$.ajax({
			url : "http://localhost:3000/save",
			data : {
				"vid" : vid,
				"vdis" : vdis,
				"year" : year,
				"type" : 2,
				"cat" : 1,
				"tag" : id1
			},
			type : "POST",
			success : function(){
				console.log("Done");
			}

		})
	}
	function addrental(){
		var renter_customer = $('#renter_customer').val();
		var renter_vehicle = $('#renter_vehicle').val();
		var _start_search = $('#startdate').val();
		var payid = $('#payid').val();
		var _return_search = $('#returndate').val();

		if(payid == "0"){
			var _odi_search = $('#startdate').val();
		}
		if(payid == "1"){
			var _odi_search = $('#returndate').val();
		}
		
		$.ajax({
			url : "http://localhost:3000/saverental",
			data : {
				"renter_customer" : renter_customer,
				"renter_vehicle" : renter_vehicle,
				"_start_search" : _start_search,
				"_return_search" : _return_search,
				"_odi_search" : _odi_search,

			},
			type : "POST",
			success : function(){
				console.log("Done");
			}

		})
	}
	function return_rental_data(){
	
	var _customer_name2 = $('#_customer_name2').val();
	var _return_date_search = $('#_return_date_search').val();
	var _VID_search = $('#_VID_search').val();
	

	$.ajax({
			url : "http://localhost:3000/retSelectRETURN",
			data : {
				"_VID_search" : _VID_search,
				"_return_date_search" : _return_date_search,
				"_customer_name2" : _customer_name2
				
			},
			type : "POST",
			success : function(){
				console.log("Done");
			}

		})
	}

function retsearchuser(){
	
	var _customer_search = $('#customer_search').val();
	$.ajax({
			url : "http://localhost:3000/retSelect",
			data : {
				"searchParam" : _customer_search
				
			},
			type : "POST",
			success : function(data){
				//console.log("Done");
				
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					var table = '<table border="1" style="width:100%; color:white;" class="table table-dark"><tr><th>CustID</th><th>CustName</th><th>Balance</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].CustID+'</td><td>'+data[i].Name+'</td><td>$'+data[i].balance+'.00</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					callback(table);
				}
			

			
			}

		})
	}
// Vehicle search new supports part of name
function retsearchvehicle(){
	
	var _vehicle_search = $('#vehicle_search').val();
	$.ajax({
			url : "http://localhost:3000/retVehSelect",
			data : {
				"searchParamVEH" : _vehicle_search
				
			},
			type : "POST",
			success : function(data){
				//console.log("Done");
				
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					
					var table = '<table border="1" style="width:100%; color:white;" class="table table-dark"  ><tr><th>VIN</th><th>Description</th><th>Daily Price</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].VehicleID+'</td><td>'+data[i].Description+'</td><td>'+data[i].Daily+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					
					callback(table);
				}
			

			
			}

		})
	}
	function retsearchvehicleid(){
	
	var _vehicle_id = $('#vehicle_id').val();
	$.ajax({
			url : "http://localhost:3000/retVehSelectID",
			data : {
				"searchParamVEHID" : _vehicle_id
				
			},
			type : "POST",
			success : function(data){
				//console.log("Done");
				
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					
					var table = '<table border="1" style="width:100%; color:white;" class="table table-dark"  ><tr><th>VIN</th><th>Description</th><th>Daily Price</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].VehicleID+'</td><td>'+data[i].Description+'</td><td>'+data[i].Daily+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					
					callback(table);
				}
			

			
			}

		})
	}
//
function retsearchvehicle_rental(){
	
	var _type_search = $('#rentype').val();
	var _cat_search = $('#rencat').val();
	var _start_search = $('#startdate').val();
	var _return_search = $('#returndate').val();
	$.ajax({
			url : "http://localhost:3000/retVehSelectRENTAL",
			data : {
				"searchParamTYPE" : _type_search,
				"searchParamCAT" : _cat_search,
				"searchParamSTART" : _start_search,
				"searchParamRETURN" : _return_search
				
			},
			type : "POST",
			success : function(data){
				//console.log("Done");
				
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					
					var table = '<table border="1" style="width:100%; color:white;" class="table table-dark"  ><tr><th>VIN</th><th>Description</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].VehicleID+'</td><td>'+data[i].Description+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					
					callback(table);
				}
			

			
			}

		})
	}

//

	///////////////////////////////////////////////////////////////////////////
function retsearchuserid(){
	
	var _customer_search_2 = $('#customer_search_2').val();
	$.ajax({
			url : "http://localhost:3000/retSelectid",
			data : {
				"searchParamid" : _customer_search_2
				
			},
			type : "POST",
			success : function(data){
				//console.log("Done");
				
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					var table = '<table border="1" style="width:100%; color:white;" class="table table-dark"><tr><th>CustID</th><th>CustName</th><th>Balance</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].CustID+'</td><td>'+data[i].Name+'</td><td>$'+data[i].balance+'.00</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					callback(table);
				}
			

			
			}

		})
	}

/////////////////////////////////////////////////////////////////////////////////


////
	// for customer
	function retForm(){
		
		$.ajax({
			url : "http://localhost:3000/ret",
			
			type : "GET",
			success : function(data){
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					var table = '<table border="1" style="width:100%; color:white;"><tr><th>CustID</th><th>CustName</th><th>CustPhone</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].CustID+'</td><td>'+data[i].Name+'</td><td>'+data[i].Phone+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					callback(table);
				}
			

			}

		})
	}
// for addinf rental

function retFormren(){
		
		$.ajax({
			url : "http://localhost:3000/ret",
			
			type : "GET",
			success : function(data){
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					var table = '<table style="width:100%"><tr><th>CustID</th><th>CustName</th><th>CustPhone</th></tr>';
					for (var i =0 ; i<data.length;i++){
							table =  table + '<tr><td>'+data[i].CustID+'</td><td>'+data[i].Name+'</td><td>'+data[i].Phone+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
					}
					callback(table);
				}
			

			}

		})
	}

//

	// for vehicle
	function retForm2(){
		
		$.ajax({
			url : "http://localhost:3000/ret2",
			
			type : "GET",
			success : function(data){
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
					var table = '<table style="width:100%"><tr><th>VehicleID</th><th>Description</th><th>Year</th><th>Type</th><th>Category</th></tr>';
					for (var i =0 ; i<data.length;i++){
						
							table =  table + '<tr><td>'+data[i].VehicleID+'</td><td>'+data[i].Description+'</td><td>'+data[i].Year+'</td><td>'+data[i].Type+'</td><td>'+data[i].Category+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
						
					}
					callback(table);
				}
			

			}

		})
	}
	function retForm3(){
			
		$.ajax({

			url : "http://localhost:3000/ret3",
			type : "GET",
			success : function(data){
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
						var _customer_search = document.getElementById("customer_search").value; 
					var table = '<table style="width:100%"><tr><th>Name</th> <th>Balance</th></tr>';
					for (var i =0 ; i<data.length;i++){
							if( data[i].Name == _customer_search){
								table =  table + '<tr><td>'+data[i].Name+'</td> <td>'+"$"+data[i].balance+'</td> </tr>';
								if(i==data.length-1){
									table = table + '</table>'
								}
							}	
						else if(_customer_search == ""){
							table =  table + '<tr><td>'+data[i].Name+'</td> <td>'+"$"+data[i].balance+'</td> </tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
						}
						
					}
					callback(table);
				}
			

			}

		})
	}

// ret4 vehicle
function retForm4(){
			
		$.ajax({

			url : "http://localhost:3000/ret4",
			type : "GET",
			success : function(data){
				testthis(data,function(datum){
					document.getElementById("dill").innerHTML = datum;
				});
				function testthis(data,callback){
						var _vehicle_search = document.getElementById("vehicle_search").value; 
					var table = '<table style="width:100%"><tr><th>Description</th> <th>Daily</th></tr>';
					for (var i =0 ; i<data.length;i++){
						if(data[i].Description ==_vehicle_search){
							table =  table + '<tr><td>'+data[i].Description+'</td><td>'+"$"+data[i].Daily+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}
						}
						else if(_vehicle_search ==""){
							
							table =  table + '<tr><td>'+data[i].Description+'</td><td>'+"$"+data[i].Daily+'</td></tr>';
							if(i==data.length-1){
								table = table + '</table>'
							}

						}
						
					}
					callback(table);
				}
			

			}

		})
	}
	var scroll = new SmoothScroll('a[href*="#"]');
</script>


</body> 
</html>

